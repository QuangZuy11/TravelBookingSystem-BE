{
  "serviceProviderRules": {
    "description": "License rules cho Service Provider System",
    "version": "1.0.0",
    "lastUpdated": "2025-10-12",
    
    "serviceTypes": {
      "hotel": {
        "code": "hotel",
        "name": "KhÃ¡ch sáº¡n",
        "icon": "ðŸ¨",
        "maxLicenses": null,
        "canAddLicense": true,
        "description": "CÃ³ thá»ƒ cÃ³ nhiá»u licenses (má»—i khÃ¡ch sáº¡n = 1 license)",
        "validationMessage": "Hotel cÃ³ thá»ƒ cÃ³ nhiá»u giáº¥y phÃ©p"
      },
      "tour": {
        "code": "tour",
        "name": "Tour",
        "icon": "ðŸ—ºï¸",
        "maxLicenses": 1,
        "canAddLicense": false,
        "description": "Chá»‰ cÃ³ thá»ƒ cÃ³ 1 license duy nháº¥t",
        "validationMessage": "Tour chá»‰ Ä‘Æ°á»£c cÃ³ 1 giáº¥y phÃ©p duy nháº¥t"
      }
    },
    
    "licenseStatuses": {
      "pending": {
        "code": "pending",
        "label": "Chá» xÃ¡c minh",
        "color": "yellow",
        "bgColor": "#fffbeb",
        "borderColor": "#f59e0b",
        "textColor": "#92400e",
        "icon": "â³",
        "description": "Äang chá» admin xÃ¡c minh"
      },
      "verified": {
        "code": "verified",
        "label": "ÄÃ£ xÃ¡c minh",
        "color": "green",
        "bgColor": "#f0fdf4",
        "borderColor": "#10b981",
        "textColor": "#065f46",
        "icon": "âœ“",
        "description": "Giáº¥y phÃ©p Ä‘Ã£ Ä‘Æ°á»£c xÃ¡c minh"
      },
      "rejected": {
        "code": "rejected",
        "label": "Bá»‹ tá»« chá»‘i",
        "color": "red",
        "bgColor": "#fef2f2",
        "borderColor": "#ef4444",
        "textColor": "#991b1b",
        "icon": "âœ—",
        "description": "Giáº¥y phÃ©p bá»‹ tá»« chá»‘i"
      }
    },
    
    "apiEndpoints": {
      "registration": {
        "method": "POST",
        "url": "/api/auth/service-provider/register",
        "description": "ÄÄƒng kÃ½ Service Provider má»›i",
        "bodyExample": {
          "email": "company@example.com",
          "password": "Pass123!",
          "first_name": "John",
          "last_name": "Doe",
          "company_name": "ABC Travel",
          "contact_person": "John Doe",
          "company_email": "info@abc.com",
          "company_phone": "0901234567",
          "address": "123 Street, City",
          "service_types": ["hotel", "tour"],
          "licenses": [
            {
              "service_type": "hotel",
              "license_number": "HTL-2024-001",
              "documents": ["url1", "url2"]
            },
            {
              "service_type": "tour",
              "license_number": "TUR-2024-001",
              "documents": ["url3"]
            }
          ]
        }
      },
      "login": {
        "method": "POST",
        "url": "/api/auth/service-provider/login",
        "description": "ÄÄƒng nháº­p Service Provider",
        "bodyExample": {
          "email": "company@example.com",
          "password": "Pass123!"
        }
      },
      "profile": {
        "method": "GET",
        "url": "/api/auth/service-provider/profile",
        "description": "Láº¥y thÃ´ng tin profile",
        "requiresAuth": true
      },
      "addLicense": {
        "method": "POST",
        "url": "/api/admin/service-providers/:id/add-license",
        "description": "ThÃªm license má»›i (CHá»ˆ cho HOTEL)",
        "requiresAuth": true,
        "bodyExample": {
          "service_type": "hotel",
          "license_number": "HTL-2024-002",
          "documents": ["url1", "url2"]
        }
      }
    },
    
    "errorMessages": {
      "tourMaxLicenses": {
        "code": "TOUR_MAX_LICENSES",
        "message": "Tour provider chá»‰ cÃ³ thá»ƒ Ä‘Äƒng kÃ½ 1 license duy nháº¥t",
        "userMessage": "Tour chá»‰ Ä‘Æ°á»£c cÃ³ 1 giáº¥y phÃ©p. Vui lÃ²ng xÃ³a cÃ¡c giáº¥y phÃ©p thá»«a."
      },
      
      "duplicateLicenseNumber": {
        "code": "DUPLICATE_LICENSE",
        "message": "License number khÃ´ng Ä‘Æ°á»£c trÃ¹ng láº·p",
        "userMessage": "CÃ¡c license number pháº£i khÃ¡c nhau. Vui lÃ²ng kiá»ƒm tra láº¡i."
      },
      "licenseExists": {
        "code": "LICENSE_EXISTS",
        "message": "License number Ä‘Ã£ Ä‘Æ°á»£c Ä‘Äƒng kÃ½ bá»Ÿi cÃ´ng ty khÃ¡c",
        "userMessage": "License number nÃ y Ä‘Ã£ Ä‘Æ°á»£c sá»­ dá»¥ng. Vui lÃ²ng sá»­ dá»¥ng sá»‘ khÃ¡c."
      },
      "onlyHotelCanAdd": {
        "code": "ONLY_HOTEL_CAN_ADD",
        "message": "Chá»‰ cÃ³ thá»ƒ thÃªm license cho service type hotel",
         "userMessage": "Tour chá»‰ Ä‘Æ°á»£c cÃ³ 1 license duy nháº¥t, khÃ´ng thá»ƒ thÃªm má»›i."
      }
    },
    
    "validationRules": {
      "licenseNumber": {
        "required": true,
        "pattern": "^[A-Z]{3}-\\d{4}-\\d{3}$",
        "patternExample": "HTL-2024-001",
        "description": "Format: XXX-YYYY-NNN (VD: HTL-2024-001)",
        "unique": true
      },
          "serviceTypes": {
        "required": true,
        "minLength": 1,
        "allowedValues": ["hotel", "tour"]
      },
      "licenses": {
        "required": true,
        "minLength": 1,
        "mustMatchServiceTypes": true,
        "rules": {
          "hotel": {
            "min": 0,
            "max": null
          },
          "tour": {
            "min": 0,
            "max": 1
          }
        }
      }
    },
    
    "uiConfig": {
      "registrationSteps": [
        {
          "step": 1,
          "title": "ThÃ´ng tin cÃ¡ nhÃ¢n",
          "fields": ["email", "password", "first_name", "last_name"]
        },
        {
          "step": 2,
          "title": "ThÃ´ng tin cÃ´ng ty",
          "fields": ["company_name", "contact_person", "company_email", "company_phone", "address"]
        },
        {
          "step": 3,
          "title": "Loáº¡i hÃ¬nh dá»‹ch vá»¥",
          "fields": ["service_types"],
          "description": "Chá»n cÃ¡c loáº¡i dá»‹ch vá»¥ báº¡n muá»‘n cung cáº¥p"
        },
        {
          "step": 4,
          "title": "Giáº¥y phÃ©p kinh doanh",
          "fields": ["licenses"],
          "description": "Cung cáº¥p giáº¥y phÃ©p cho tá»«ng loáº¡i dá»‹ch vá»¥",
          "dynamic": true
        }
      ],
      
      "dashboardSections": {
        "hotel": {
          "title": "Danh sÃ¡ch KhÃ¡ch sáº¡n",
          "showAddButton": true,
          "addButtonText": "âž• ThÃªm khÃ¡ch sáº¡n má»›i",
          "displayMode": "grid"
        },
        "tour": {
          "title": "Giáº¥y phÃ©p Tour",
          "showAddButton": false,
          "displayMode": "single",
          "infoText": "â„¹ï¸ Tour chá»‰ Ä‘Æ°á»£c cÃ³ 1 license duy nháº¥t"
        }
      },
      
      "colors": {
        "primary": "#3b82f6",
        "success": "#10b981",
        "warning": "#f59e0b",
        "danger": "#ef4444",
        "gray": "#6b7280"
      }
    },
    
    "helperFunctions": {
      "validateLicenses": "function(serviceTypes, licenses) { ... }",
      "canAddLicense": "function(serviceType) { return serviceType === 'hotel'; }",
      "getLicensesByType": "function(licenses, serviceType) { return licenses.filter(l => l.service_type === serviceType); }",
      "getStatusConfig": "function(status) { return licenseStatuses[status]; }",
      "formatLicenseNumber": "function(type, year, number) { return `${type.toUpperCase().slice(0,3)}-${year}-${String(number).padStart(3, '0')}`; }"
    }
  }
}
